int printf(char *fmt, ...);

struct foo
{
    int a;
    int b;
    int arr[10];
};

struct bar
{
    int x;
    struct foo f_array[5];
};

int main()
{
    struct bar barr[3];

    for (int i = 0; i < 3; i++) {
        barr[i].x = i * 10;
        for (int j = 0; j < 5; j++) {
            barr[i].f_array[j].a = i + j;
            barr[i].f_array[j].b = i - j;
            for (int k = 0; k < 10; k++) {
                barr[i].f_array[j].arr[k] = i * j * k;
            }
        }
    }

    for (int i = 0; i < 3; i++) {
        printf("barr[%d].x = %ld\n", i, barr[i].x);
        for (int j = 0; j < 5; j++) {
            printf("  barr[%d].f_array[%d].a = %ld\n", i, j, barr[i].f_array[j].a);
            printf("  barr[%d].f_array[%d].b = %ld\n", i, j, barr[i].f_array[j].b);
            for (int k = 0; k < 10; k++) {
                printf("    barr[%d].f_array[%d].arr[%d] = %ld\n", i, j, k, barr[i].f_array[j].arr[k]);
            }
        }
    }


    // Validate some computed values
    if (barr[0].x != 0) return 1;
    if (barr[1].x != 10) return 2;
    if (barr[2].x != 20) return 3;
    if (barr[0].f_array[0].a != 0) return 4;  // 0+0
    if (barr[1].f_array[2].a != 3) return 5;  // 1+2
    if (barr[2].f_array[4].b != -2) return 6; // 2-4
    if (barr[1].f_array[2].arr[3] != 6) return 7;  // 1*2*3

    return 0;
}
