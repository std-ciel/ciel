// Test: Multiple lambdas with different signatures
// Expected: Each lambda should have its own class and correct calls
int printf(char* format, ...);

int main() {
    printf("Test: Multiple lambdas with different signatures\n");
    
    int value;
    value = 100;

    // Lambda 1: No captures, no params
    [] noop() -> void {
        return;
    };

    // Lambda 2: With params, no captures
    [] multiply(int a, int b) -> int {
        return a * b;
    };

    // Lambda 3: With captures, no params
    [value = value] get_value() -> int {
        return value;
    };

    // Lambda 4: With both captures and params
    [value = value] add_to_value(int n) -> int {
        return value + n;
    };

    // Call all lambdas
    noop();
    printf("Lambda 1 (noop) called\n");
    
    int m = multiply(3, 4);
    printf("Lambda 2 (multiply): %d\n", m);
    printf("Expected: 12\n");
    
    int v = get_value();
    printf("Lambda 3 (get_value): %d\n", v);
    printf("Expected: 100\n");
    
    int sum = add_to_value(50);
    printf("Lambda 4 (add_to_value): %d\n", sum);
    printf("Expected: 150\n");

    return 0;
}
